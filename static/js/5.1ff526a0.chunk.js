(this["webpackJsonpmachinelearning-tensorflow"]=this["webpackJsonpmachinelearning-tensorflow"]||[]).push([[5],{348:function(e,t,a){"use strict";var n=a(2),c=(a(0),a(185)),r=a(176),s=a(128),i=Object(s.a)((function(e){return{avatar:{margin:e.spacing(1)}}}));t.a=function(e){var t=e.text,a=e.filePath,s=e.display,l=i();return Object(n.jsx)(r.a,{className:"ml-2",color:"primary",target:"_blank",style:{visibility:s?"visible":"hidden"},title:t,href:a,download:!0,children:Object(n.jsx)(c.a,{className:l.avatar,alt:t,src:a})})}},99:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var n=a(2),c=a(27),r=a.n(c),s=a(41),i=a(40),l=a(0),o=a.n(l),u=a(306),j=a(482),b=a(169),f=a(176),d=a(483),p=a(353),h=a(355),x=a(354),m=a(179),O=a(405),g=a.n(O),v=a(79),y=a(348),w=a(76),N=a(349);function S(){var e=Object(l.useState)({}),t=Object(i.a)(e,2),a=t[0],c=t[1],O=Object(l.useState)(null),S=Object(i.a)(O,2),k=S[0],I=S[1],P=Object(l.useState)(),C=Object(i.a)(P,2),F=C[0],z=C[1],D=Object(l.useState)(""),_=Object(i.a)(D,2),E=_[0],L=_[1],R=Object(l.useState)(""),B=Object(i.a)(R,2),H=B[0],J=B[1],T=Object(l.useState)(!1),U=Object(i.a)(T,2),A=U[0],M=U[1],V=o.a.useRef(null),q=Object(N.a)(),G=Object(w.a)(),K="https://tfhub.dev/google/tfjs-model/imagenet/mobilenet_v2_140_224/classification/3/default/1";function Q(){return(Q=Object(s.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.e(t,{fromTFHub:!0});case 3:a=e.sent,z(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}Object(l.useEffect)((function(){function e(){return(e=Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=G.getUserLocale(),e.next=3,G.getLocalizedTextSet(["classifier","classifierdescription","classifierinstructions","moreinfo"],t);case 3:a=e.sent,c(a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(l.useEffect)((function(){u.g().then((function(){!function(e){Q.apply(this,arguments)}(K)}))}),[K]);var W=function(){var e=Object(s.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return M(!0),e.next=3,Z();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(e){var t=u.b.fromPixels(e).toFloat().mul(2/255).add(-1);return u.d.resizeBilinear(t,[224,224],!0).reshape([-1,224,224,3])},Y=function(e,t,a){var n=u.j((function(){return e.slice([0,1],[-1,1e3]).softmax().dataSync()})),c=[];return n.forEach((function(e,t){c.push({value:e,index:t})})),c.sort((function(e,t){return t.value-e.value})).filter((function(e,a){return a<t})).map((function(e){var t=e.value,n=e.index;return{className:a[n],probability:t}}))},Z=function(){var e=Object(s.a)(r.a.mark((function e(){var t,a,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=X(V.current),e.next=3,F.predict(t);case 3:a=e.sent,n=q.getImageNetClasses(),c=Y(a,1,n),t.dispose(),a.dispose(),L(c[0].className),J(c[0].probability),M(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){return!A&&E.length>0?Object(n.jsx)(p.a,{className:"card white-bg-color bl-1 bb-1",children:Object(n.jsxs)(x.a,{children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{className:"text-bold",children:"Classification:"})," ",E]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("span",{className:"text-bold",children:"Probability:"})," ",H]})]})}):Object(n.jsx)(n.Fragment,{})};return Object(n.jsx)(m.a,{container:!0,spacing:0,children:Object(n.jsxs)(m.a,{item:!0,xs:12,className:"contentpanel-site",children:[Object(n.jsx)("h3",{children:a.classifier}),Object(n.jsxs)("p",{children:[a.classifierinstructions," ",Object(n.jsx)(b.a,{className:"ml-2",href:K,color:"primary",variant:"outlined",target:"_blank",rel:"noopener",children:"View Model"})]}),Object(n.jsxs)(m.a,{container:!0,spacing:0,children:[Object(n.jsxs)(m.a,{item:!0,xs:12,md:6,lg:6,xl:6,children:[Object(n.jsxs)(p.a,{className:"card white-bg-color bl-1 bb-1",children:[Object(n.jsxs)(x.a,{children:[Object(n.jsx)("input",{style:{display:"none"},accept:"image/jpeg",multiple:!1,id:"faceImage",type:"file",onChange:function(e){var t=Object(i.a)(e.target.files,1)[0];if(t){var a=new FileReader,n=V.current;n.file=t,a.onload=function(e){n.src=e.target.result},a.readAsDataURL(t),I(t)}}}),Object(n.jsx)(d.a,{title:"Select Image",children:Object(n.jsx)("label",{htmlFor:"faceImage",children:Object(n.jsx)(f.a,{color:"primary","aria-label":"upload image",component:"span",children:Object(n.jsx)(g.a,{fontSize:"large"})})})}),Object(n.jsx)("label",{children:k?k.name:"Select Image"}),". . .",Object(n.jsx)(y.a,{display:!0,text:"Download Bee Image",filePath:"images/bee.jpg"}),Object(n.jsx)(y.a,{display:!0,text:"Download Hot Dog Image",filePath:"images/hotdog.jpg"}),Object(n.jsx)(y.a,{display:!0,text:"Download strawberry Image",filePath:"images/strawberry.jpg"})]}),Object(n.jsxs)(h.a,{children:[k?Object(n.jsx)(b.a,{color:"primary",onClick:function(){return W()},children:"Perform Classification"}):Object(n.jsx)(n.Fragment,{}),Object(n.jsx)(v.a,{display:A,size:40})]})]}),Object(n.jsx)($,{})]}),Object(n.jsx)(m.a,{item:!0,xs:12,md:6,lg:6,xl:6,children:Object(n.jsx)(j.a,{display:"flex",justifyContent:"center",children:Object(n.jsx)("img",{className:"mt-2",ref:V,src:k,style:{width:"50%",visibility:null!=k?"visible":"hidden"},alt:"Selected file to analyze"})})})]})]})})}}}]);
//# sourceMappingURL=5.1ff526a0.chunk.js.map